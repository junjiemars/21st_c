

echo $cl_n "checking for $cl_include ...$ngx_c"

cat << END >> $CL_AUTOCONF_ERR

----------------------------------------
checking for $cl_include

END


ngx_found=no

cat << END > $CL_AUTOTEST.c

$CL_INCLUDE_SYS_PARAM_H
#include <$cl_include>

int main(void) {
    return 0;
}

END


cl_test="$CC -o $CL_AUTOTEST $CL_AUTOTEST.c"

eval "$cl_test >> $CL_AUTOCONF_ERR 2>&1"

if [ -x $CL_AUTOTEST ]; then

    ngx_found=yes

    echo " found"

    ngx_name=`echo $cl_include \
              | tr abcdefghijklmnopqrstuvwxyz/. ABCDEFGHIJKLMNOPQRSTUVWXYZ__`


    have=NGX_HAVE_$cl_name . auto/have_headers

    eval "CL_INCLUDE_$cl_name='#include <$cl_include>'"

else
    echo " not found"

    echo "----------"    >> $CL_AUTOCONF_ERR
    cat $CL_AUTOTEST.c 	 >> $CL_AUTOCONF_ERR
    echo "----------"    >> $CL_AUTOCONF_ERR
    echo $cl_test      	 >> $CL_AUTOCONF_ERR
    echo "----------"    >> $CL_AUTOCONF_ERR
fi

rm -rf $CL_AUTOTEST*
