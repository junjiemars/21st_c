#### -*- mode:sh -*- vim:ft=sh
####
## No More than a C build system for clang, gcc and msvc.
## https://github.com/junjiemars/nore
####
## check posix features
####

# check sysconf fn
case $NM_SYSTEM in
	Darwin|Linux)
    nm_feature="sysconf fn"
    nm_feature_name="nm_have_sysconf_fn"
    nm_feature_run=no
    nm_feature_h='#include <unistd.h>'
    nm_feature_flags=
    nm_feature_test='sysconf(_SC_PAGESIZE);'
    . ${NORE_ROOT}/auto/feature
	  ;;
	WinNT)
	  ;;
	*)
	  ;;
esac

# check tmpfile fn
nm_feature="tmpfile fn"
nm_feature_name="nm_have_tmpfile_fn"
nm_feature_run=
nm_feature_h='#include <stdio.h>'
nm_feature_flags=
nm_feature_test='(void)tmpfile();'
. ${NORE_ROOT}/auto/feature

# check mkstemp fn
nm_feature="mkstemp fn"
nm_feature_name="nm_have_mkstemp_fn"
nm_feature_run=
nm_feature_h='#include <stdlib.h>'
nm_feature_flags=
nm_feature_test='mkstemp("abc");'
. ${NORE_ROOT}/auto/feature

